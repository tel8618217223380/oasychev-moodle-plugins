# Описание функции ввода конечного автомата из строки #

Функция является динамическим методом автомата, это значит, что для её использования нужно иметь объект автомата, объект не обязан что-то хранить, но если он уже хранит автомат, то он будет утерян и затерт введенным. Единственным аргументом функции является строка, содержащая конечный автомат, записанный в специальном формате.

## Формат записи ##

Конечный автомат описывается через последовательное описание его переходов, описывать состояния не требуется.

Переход описывается в следующем формате: номер состояния из которого он исходит, стрелка, описание СК и подмасок, стрелка, номер состояния в которое он входит, точка с запятой.

Следует использовать сквозную нумерацию состояний начинающуюся с нуля. Начальным является состояние 0, конечным состояние с наибольшим номером.

СК и подмаски описываются в следующем формате:
# подмаски # CK, СК указывать обязательно, информацию о подмасках можно опустить, если их нет. Запись si означает начало подмаски номер i, ej означает конец подмаски номер j, причем можно использовать только однозначные номера подмасок 1-9, если этого количества будет недостаточно, то будет добавлена поддержка многозначных номеров подмасок, но сейчас её нет. Ск описывается перечислением входящих в него букв.

## Примеры ##

### Один переход ###

Например, запись переход из нулевого состояния в первое в котором начинаются подмаски 1 и 3, а подмаска 1 в нем же и заканчивается, с символьным классов [a-cf] будет выглядеть так: _0->#s1s3e1#abcf->1;_

### Автомат ###

Запись автомата состоит из записей его переходов, например, такой автомат:

![http://i33.fastpic.ru/big/2012/0323/fe/0ef723279890f8408ec73c95093326fe.jpg](http://i33.fastpic.ru/big/2012/0323/fe/0ef723279890f8408ec73c95093326fe.jpg)

Следует записать таким образом: _0->#s1e1#a->1;1->#s2#b->2;2->#e2#c->3;_ и в виде строки передать функции ввода автомата. Обратите внимание, что изменение порядка записи переходов изменит их приоритет, распологайте переходы по возрастанию приоритета.

### Использование функции ###
Ввод автомата из предыдущего примера будет выглядеть так:
```
$nfa  = new qtype_preg_nondeterministic_fa;
$nfa->input_fa('0->#s1e1#a->1;1->#s2#b->2;2->#e2#c->3;');
```